<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">

<head >
    <title>Administración de usuarios</title>

  </head>
  <body>
    <h5>Modulo de Administración</h5>
    <br>
    <h3>Administración de usuarios</h3>

    <div class="row mb-3">
        <div class="col-md-4">
            <select class="form-select" id="selectDepartamento" [(ngModel)]="selectedDepartamento">
                <option selected disabled>Seleccione departamento </option>
                <option *ngFor="let departamento of departamentos" [value]="departamento?.id">{{ departamento?.nombre_dep }}</option>
            </select>
        </div>
        <div class="col-md-4">
            <select class="form-select" id="selectCargo" [(ngModel)]="selectedCargo">
                <option selected disabled>Seleccione cargo</option>
                <option *ngFor="let cargo of cargos" [value]="cargo?.id">{{ cargo?.nombre_carg}}</option>
            </select>
        </div>
        <div class="col-md-4">
            <button type="button" class="btn btn-primary" (click)="agregarUsuario()">Crear Nuevo Usuario</button>
        </div>

        
    </div>
    <table class="table table-hover">
        <thead class="thead-light">
          <tr>
            <th>Usuario</th>
            <th>Nombre</th>
            <th>Apellidos</th>
            <th>Departamento</th>
            <th>Cargo</th>
            <th>Correo electrónico</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let usuario of usuarios">
            <td>{{ usuario?.usuario }}</td>
            <td>{{ usuario?.primerNombre }} {{ usuario?.segundoNombre }}</td>
            <td>{{ usuario?.primerApellido }} {{ usuario?.segundoApellido }}</td>
            <td>{{ usuario?.departamento?.nombre_dep }}</td>
            <td>{{ usuario?.cargo?.nombre_carg }}</td>
            <td>{{ usuario?.email }}</td>
            <td>
              <button type="button" class="btn btn-success" (click)="editarUsuario(usuario)">Editar</button>
              <button type="button" class="btn btn-danger" (click)="eliminarUsuario(usuario)">Eliminar</button>
            </td>
          </tr>
        </tbody>
      </table>



  <div class="modal" id="modalEditarUsuario">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Editar usuario</h2>
        </div>
        <div class="modal-body">
          <form action="#">
            <div class="form-group">
              <label for="nombre">Nombre</label>
              <input type="text" class="form-control" id="nombre" value="Pedro">
            </div>
            <div class="form-group">
              <label for="apellidos">Apellidos</label>
              <input type="text" class="form-control" id="apellidos" value="Picapiedra">
            </div>
            <div class="form-group">
              <label for="departamento">Departamento</label>
              <input type="text" class="form-control" id="departamento" value="Tecnologías de la Información">
            </div>
            <div class="form-group">
              <label for="cargo">Cargo</label>
              <input type="text" class="form-control" id="cargo" value="Administrador">
            </div>
            <div class="form-group">
              <label for="correoElectronico">Correo electrónico</label>
              <input type="email" class="form-control" id="correoElectronico" value="ppicapiedra@mail.com">
            </div>
            <button type="submit" class="btn btn-primary">Guardar</button>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

</body>
